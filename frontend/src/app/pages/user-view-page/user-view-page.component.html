<div class="flex flex-col flex-grow items-center">
  <div
    class="flex flex-col items-center flex-grow w-full"
    [ngClass]="{ 'px-[15vw]': !isMobile }"
  >
    <div
      class="bg-[#f8f9ff] flex-grow w-full px-4 pb-24"
      [ngClass]="{ 'border-x-2 border-[#e8edff] border-solid': !isMobile }"
    >
      <div class="py-4">
        <div class="flex flex-row justify-between mt-[12px]">
          <h1
            class="text-[30px] font-bold leading-[45px] w-full flex flex-wrap justify-center items-center md:justify-start md:items-start"
          >
            Profil de {{user.username}}
          </h1>

          <button
              mat-flat-button
              aria-label="Signaler l'utilisateur"
              (click)="openReportModal()"
              class="custom-button !rounded-[10px] mx-[10px]"
            >
              Signaler
            </button>
        </div>

        <hr />
        <div
          class="flex sm:flex-row justify-between sm:gap-8 flex-col-reverse"
        >
          <div class="flex flex-grow flex-col">
            <p>{{user.bio}}</p>
          </div>
          <div class="flex flex-col items-center justify-center sm:block min-w-[150px]">
            <img
              src="https://i.pravatar.cc/40?u=4"
              alt="Photo de profil"
              class="w-[150px] h-[150px] rounded-full my-4 sm:mr-8 object-cover"
            />
          </div>
        </div>
        <div class="flex sm:flex-row flex-col justify-between mt-[12px]">
          <h1
            class="text-[30px] font-bold leading-[45px] flex flex-wrap justify-start items-start"
          >
            Ressources créées
          </h1>
        </div>
        <hr />
        <ng-container
          *ngIf="
            ressources && ressources.length > 0;
            else noRessources
          "
        >
          <div
            appSwipeScroll
            class="flex flex-nowrap justify-left items-start gap-8 mt-4 h-[200px] overflow-x-auto overflow-y-hidden medium-component touch-pan-x -webkit-overflow-scrolling-touch"
          >
            <app-ressource-card
              *ngFor="let ressource of ressources"
              [ressource]="ressource"
              [showCreator]="false"
            ></app-ressource-card>
          </div>
        </ng-container>

        <div *ngIf="moderate">
          <div class="flex sm:flex-row flex-col justify-between mt-16">
            <h1
              class="text-[30px] font-bold leading-[45px] flex flex-wrap justify-start items-start"
            >
              Signalements
            </h1>
          </div>
          <hr />
          <ng-container
            *ngIf="
              reports && reports.length > 0;
              else noRessources
            "
          >
            <div
              appSwipeScroll
              class="flex flex-nowrap justify-left items-start gap-8 mt-4 h-[200px] overflow-x-auto overflow-y-hidden medium-component touch-pan-x -webkit-overflow-scrolling-touch"
            >
              <app-report-card
                *ngFor="let report of reports"
                [report]="report"
              ></app-report-card>
            </div>
          </ng-container>
        </div>
        
        <ng-template #noRessources>
            <div
              class="w-full h-[300px] flex items-center justify-center text-gray-500 italic"
            >
              Aucune ressource.
            </div>
          </ng-template>
      </div>
    </div>
  </div>
</div>